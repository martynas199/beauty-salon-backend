import { Router } from "express"; import Service from "../models/Service.js"; const r=Router(); r.get("/",async(req,res)=>res.json(await Service.find().lean())); r.get("/:id",async(req,res)=>{const it=await Service.findById(req.params.id).lean(); if(!it) return res.status(404).json({error:"Service not found"}); res.json(it);}); r.post("/",async(req,res)=>res.json(await Service.create(req.body))); r.patch("/:id",async(req,res)=>res.json(await Service.findByIdAndUpdate(req.params.id, req.body, {new:true}))); export default r;
